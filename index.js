#!/usr/bin/env node
var w=Object.create;var c=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,$=Object.prototype.hasOwnProperty;var b=e=>c(e,"__esModule",{value:!0});var j=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of S(t))!$.call(e,o)&&o!=="default"&&c(e,o,{get:()=>t[o],enumerable:!(r=x(t,o))||r.enumerable});return e},l=e=>j(b(c(e!=null?w(k(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var n=l(require("fs")),i=l(require("path")),s=l(require("prompts"));function a(e,t){return r=>`[${e}m${r}[${t}m`}var F=a(32,39),G=a(33,39),N=a(34,39),f=a(92,39),m=a(93,39),p=a(94,39);var g=process.cwd(),_=process.argv.slice(2),P=_[0],y=process.env.npm_config_user_agent,Y=y&&y.startsWith("yarn");async function B(){let e=P??(await(0,s.default)({type:"text",name:"name",message:"Project name",initial:"rapide-project"})).name,t=i.default.resolve(g,e);if(n.default.existsSync(t)||n.default.mkdirSync(t,{recursive:!0}),n.default.readdirSync(t).length>0){let{confirm:h}=await(0,s.default)({type:"confirm",name:"confirm",message:`The target directory ${t} is not empty. Remove existing files and continue?`});if(!h)return;n.default.rmdirSync(t)}n.default.mkdirSync(t,{recursive:!0});let{framework:r}=await(0,s.default)({type:"select",name:"framework",message:"Pick a framework",choices:[{title:m("vanilla"),value:"vanilla"},{title:p("react"),value:"react"},{title:f("vue"),value:"vue"}]}),{language:o}=await(0,s.default)({type:"select",name:"language",message:"Pick a language",choices:[{title:m("JavaScript"),value:"js"},{title:p("TypeScript"),value:"ts"}]}),d=o==="js"?r:`${r}-ts`;v(i.default.resolve(__dirname,"templates",d),t);let u=Y?"yarn":"npm";console.log(`
Done. Now run:
`),t!==g&&console.log(`  cd ${i.default.relative(g,t)}`),console.log(`  ${u==="yarn"?"yarn":"npm install"}`),console.log(`  ${u==="yarn"?"yarn dev":"npm run dev"}`),console.log()}B().catch(e=>{console.error(e)});function v(e,t){if(n.default.statSync(e).isFile()){n.default.copyFileSync(e,t);return}else{n.default.mkdirSync(t,{recursive:!0});for(let r of n.default.readdirSync(e))v(i.default.resolve(e,r),i.default.resolve(t,r))}}
